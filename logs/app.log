2025-09-14 19:00:20,906 - TradingBotLogger - INFO - Loading configuration from config/enhanced_config.yaml
2025-09-14 19:00:20,918 - TradingBotLogger - INFO - Configuration loaded successfully.
2025-09-14 19:00:20,920 - TradingBotLogger - INFO - Directory structure created successfully
2025-09-14 19:00:20,920 - TradingBotLogger - INFO - Enhanced Data Manager initialized successfully
2025-09-14 19:00:20,920 - TradingBotLogger - INFO - AI Trading System initialized successfully
2025-09-14 19:00:20,920 - TradingBotLogger - INFO - Loading configuration from config/enhanced_config.yaml
2025-09-14 19:00:20,931 - TradingBotLogger - INFO - Configuration loaded successfully.
2025-09-14 19:00:20,931 - TradingBotLogger - INFO - AI Orchestrator initialized successfully
2025-09-14 19:00:20,931 - TradingBotLogger - INFO - AI Orchestrator initialized successfully
2025-09-14 19:00:20,931 - TradingBotLogger - INFO - Scheduler setup completed
2025-09-14 19:00:20,931 - TradingBotLogger - INFO - AI Analysis System status verified
2025-09-14 19:00:20,933 - TradingBotLogger - INFO - Available tools: ['get_kline_data', 'get_market_ticker', 'get_latest_price', 'get_account_balance', 'get_positions', 'calculate_risk_metrics']
2025-09-14 19:00:20,933 - TradingBotLogger - INFO - AI Analysis System ready for use
2025-09-14 19:00:20,933 - TradingBotLogger - INFO - Running single data fetch...
2025-09-14 19:00:20,933 - TradingBotLogger - INFO - Starting comprehensive data fetch...
2025-09-14 19:00:20,935 - TradingBotLogger - ERROR - Error fetching account balance: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "F:\合约机器人okx\src\account_fetcher.py", line 61, in get_balance
    response = self.client.get_balance()
               ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\okx\api\account.py", line 108, in get_balance
    return self.send_request(*_AccountEndpoints.get_balance, **to_local(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\okx\api\_client.py", line 152, in send_request
    return inner(path, method, **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\okx\api\_client.py", line 37, in wrapper2
    result = func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\okx\api\_client.py", line 138, in inner
    response = requests.get(url, headers=header, proxies=proxies)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\requests\api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\requests\sessions.py", line 579, in request
    settings = self.merge_environment_settings(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\requests\sessions.py", line 759, in merge_environment_settings
    no_proxy = proxies.get("no_proxy") if proxies is not None else None
               ^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get'
2025-09-14 19:00:20,940 - TradingBotLogger - ERROR - Error fetching detailed positions: 'str' object has no attribute 'get'
Traceback (most recent call last):
  File "F:\合约机器人okx\src\account_fetcher.py", line 207, in get_detailed_positions
    response = self.client.get_positions()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\okx\api\account.py", line 194, in get_positions
    return self.send_request(*_AccountEndpoints.get_positions, **to_local(locals()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\okx\api\_client.py", line 152, in send_request
    return inner(path, method, **params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\okx\api\_client.py", line 37, in wrapper2
    result = func(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\okx\api\_client.py", line 138, in inner
    response = requests.get(url, headers=header, proxies=proxies)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\requests\api.py", line 73, in get
    return request("get", url, params=params, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\requests\sessions.py", line 579, in request
    settings = self.merge_environment_settings(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python311\Lib\site-packages\requests\sessions.py", line 759, in merge_environment_settings
    no_proxy = proxies.get("no_proxy") if proxies is not None else None
               ^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get'
2025-09-14 19:00:20,941 - TradingBotLogger - INFO - Fetching market tickers for BTC-USD-SWAP...
2025-09-14 19:00:21,894 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:22,325 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:22,753 - TradingBotLogger - INFO - Processing 1m data for BTC-USD-SWAP...
2025-09-14 19:00:22,753 - TradingBotLogger - INFO - Using OKX timeframe format: 1m -> 1m
2025-09-14 19:00:22,753 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (200 points) for BTC-USD-SWAP at 1m...
2025-09-14 19:00:23,205 - TradingBotLogger - INFO - Fetched 200 K-line data.
2025-09-14 19:00:23,206 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:23,627 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 1m...
2025-09-14 19:00:24,057 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:24,480 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:24,486 - TradingBotLogger - INFO - Calculating all indicators for category: short_term
2025-09-14 19:00:24,492 - TradingBotLogger - INFO - Calculated RSI with period: 14
2025-09-14 19:00:24,494 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:24,496 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=20, std_dev=2.0
2025-09-14 19:00:24,498 - TradingBotLogger - INFO - Calculated ATR with period: 14
2025-09-14 19:00:24,498 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:24,498 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:24,498 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:24,505 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:24,505 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:24,505 - TradingBotLogger - INFO - Successfully calculated all indicators for short_term
2025-09-14 19:00:24,511 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:24,520 - TradingBotLogger - INFO - Saved 1m data to kline_data\1m\1m.csv
2025-09-14 19:00:24,520 - TradingBotLogger - INFO - Successfully processed 1m: 100 records
2025-09-14 19:00:24,522 - TradingBotLogger - INFO - Processing 5m data for BTC-USD-SWAP...
2025-09-14 19:00:24,522 - TradingBotLogger - INFO - Using OKX timeframe format: 5m -> 5m
2025-09-14 19:00:24,523 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (200 points) for BTC-USD-SWAP at 5m...
2025-09-14 19:00:24,984 - TradingBotLogger - INFO - Fetched 200 K-line data.
2025-09-14 19:00:24,984 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:25,423 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 5m...
2025-09-14 19:00:25,848 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:26,271 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:26,271 - TradingBotLogger - INFO - Calculating all indicators for category: short_term
2025-09-14 19:00:26,271 - TradingBotLogger - INFO - Calculated RSI with period: 14
2025-09-14 19:00:26,271 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:26,276 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=20, std_dev=2.0
2025-09-14 19:00:26,278 - TradingBotLogger - INFO - Calculated ATR with period: 14
2025-09-14 19:00:26,279 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:26,280 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:26,281 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:26,284 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:26,285 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:26,285 - TradingBotLogger - INFO - Successfully calculated all indicators for short_term
2025-09-14 19:00:26,286 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:26,289 - TradingBotLogger - INFO - Saved 5m data to kline_data\5m\5m.csv
2025-09-14 19:00:26,289 - TradingBotLogger - INFO - Successfully processed 5m: 100 records
2025-09-14 19:00:26,289 - TradingBotLogger - INFO - Processing 15m data for BTC-USD-SWAP...
2025-09-14 19:00:26,289 - TradingBotLogger - INFO - Using OKX timeframe format: 15m -> 15m
2025-09-14 19:00:26,289 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (200 points) for BTC-USD-SWAP at 15m...
2025-09-14 19:00:26,756 - TradingBotLogger - INFO - Fetched 200 K-line data.
2025-09-14 19:00:26,756 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:27,185 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 15m...
2025-09-14 19:00:27,611 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:28,041 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:28,042 - TradingBotLogger - INFO - Calculating all indicators for category: short_term
2025-09-14 19:00:28,042 - TradingBotLogger - INFO - Calculated RSI with period: 14
2025-09-14 19:00:28,042 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:28,047 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=20, std_dev=2.0
2025-09-14 19:00:28,049 - TradingBotLogger - INFO - Calculated ATR with period: 14
2025-09-14 19:00:28,051 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:28,052 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:28,053 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:28,055 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:28,056 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:28,057 - TradingBotLogger - INFO - Successfully calculated all indicators for short_term
2025-09-14 19:00:28,059 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:28,061 - TradingBotLogger - INFO - Saved 15m data to kline_data\15m\15m.csv
2025-09-14 19:00:28,061 - TradingBotLogger - INFO - Successfully processed 15m: 100 records
2025-09-14 19:00:28,061 - TradingBotLogger - INFO - Processing 30m data for BTC-USD-SWAP...
2025-09-14 19:00:28,061 - TradingBotLogger - INFO - Using OKX timeframe format: 30m -> 30m
2025-09-14 19:00:28,061 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (200 points) for BTC-USD-SWAP at 30m...
2025-09-14 19:00:28,522 - TradingBotLogger - INFO - Fetched 200 K-line data.
2025-09-14 19:00:28,522 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:28,951 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 30m...
2025-09-14 19:00:29,383 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:29,812 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:29,814 - TradingBotLogger - INFO - Calculating all indicators for category: short_term
2025-09-14 19:00:29,814 - TradingBotLogger - INFO - Calculated RSI with period: 14
2025-09-14 19:00:29,814 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:29,819 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=20, std_dev=2.0
2025-09-14 19:00:29,821 - TradingBotLogger - INFO - Calculated ATR with period: 14
2025-09-14 19:00:29,823 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:29,823 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:29,824 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:29,826 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:29,828 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:29,828 - TradingBotLogger - INFO - Successfully calculated all indicators for short_term
2025-09-14 19:00:29,830 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:29,834 - TradingBotLogger - INFO - Saved 30m data to kline_data\30m\30m.csv
2025-09-14 19:00:29,834 - TradingBotLogger - INFO - Successfully processed 30m: 100 records
2025-09-14 19:00:29,836 - TradingBotLogger - INFO - Processing 1h data for BTC-USD-SWAP...
2025-09-14 19:00:29,836 - TradingBotLogger - INFO - Using OKX timeframe format: 1h -> 1H
2025-09-14 19:00:29,836 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (200 points) for BTC-USD-SWAP at 1H...
2025-09-14 19:00:30,287 - TradingBotLogger - INFO - Fetched 200 K-line data.
2025-09-14 19:00:30,287 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:30,718 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 1H...
2025-09-14 19:00:31,144 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:31,574 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:31,575 - TradingBotLogger - INFO - Calculating all indicators for category: medium_term
2025-09-14 19:00:31,577 - TradingBotLogger - INFO - Calculated RSI with period: 14
2025-09-14 19:00:31,578 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:31,581 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=20, std_dev=2.0
2025-09-14 19:00:31,582 - TradingBotLogger - INFO - Calculated ATR with period: 14
2025-09-14 19:00:31,583 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:31,584 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:31,586 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:31,589 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:31,590 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:31,590 - TradingBotLogger - INFO - Successfully calculated all indicators for medium_term
2025-09-14 19:00:31,593 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:31,598 - TradingBotLogger - INFO - Saved 1h data to kline_data\1h\1h.csv
2025-09-14 19:00:31,598 - TradingBotLogger - INFO - Successfully processed 1h: 150 records
2025-09-14 19:00:31,598 - TradingBotLogger - INFO - Processing 2h data for BTC-USD-SWAP...
2025-09-14 19:00:31,600 - TradingBotLogger - INFO - Using OKX timeframe format: 2h -> 2H
2025-09-14 19:00:31,600 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (200 points) for BTC-USD-SWAP at 2H...
2025-09-14 19:00:32,093 - TradingBotLogger - INFO - Fetched 200 K-line data.
2025-09-14 19:00:32,094 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:32,525 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 2H...
2025-09-14 19:00:32,953 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:33,380 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:33,383 - TradingBotLogger - INFO - Calculating all indicators for category: medium_term
2025-09-14 19:00:33,384 - TradingBotLogger - INFO - Calculated RSI with period: 14
2025-09-14 19:00:33,384 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:33,387 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=20, std_dev=2.0
2025-09-14 19:00:33,389 - TradingBotLogger - INFO - Calculated ATR with period: 14
2025-09-14 19:00:33,391 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:33,392 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:33,394 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:33,397 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:33,398 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:33,398 - TradingBotLogger - INFO - Successfully calculated all indicators for medium_term
2025-09-14 19:00:33,400 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:33,407 - TradingBotLogger - INFO - Saved 2h data to kline_data\2h\2h.csv
2025-09-14 19:00:33,407 - TradingBotLogger - INFO - Successfully processed 2h: 150 records
2025-09-14 19:00:33,407 - TradingBotLogger - INFO - Processing 4h data for BTC-USD-SWAP...
2025-09-14 19:00:33,407 - TradingBotLogger - INFO - Using OKX timeframe format: 4h -> 4H
2025-09-14 19:00:33,407 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (200 points) for BTC-USD-SWAP at 4H...
2025-09-14 19:00:33,857 - TradingBotLogger - INFO - Fetched 200 K-line data.
2025-09-14 19:00:33,857 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:34,287 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 4H...
2025-09-14 19:00:34,722 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:35,149 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:35,149 - TradingBotLogger - INFO - Calculating all indicators for category: medium_term
2025-09-14 19:00:35,149 - TradingBotLogger - INFO - Calculated RSI with period: 14
2025-09-14 19:00:35,149 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:35,154 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=20, std_dev=2.0
2025-09-14 19:00:35,157 - TradingBotLogger - INFO - Calculated ATR with period: 14
2025-09-14 19:00:35,157 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:35,158 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:35,160 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:35,162 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:35,163 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:35,163 - TradingBotLogger - INFO - Successfully calculated all indicators for medium_term
2025-09-14 19:00:35,165 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:35,170 - TradingBotLogger - INFO - Saved 4h data to kline_data\4h\4h.csv
2025-09-14 19:00:35,170 - TradingBotLogger - INFO - Successfully processed 4h: 100 records
2025-09-14 19:00:35,170 - TradingBotLogger - INFO - Processing 6h data for BTC-USD-SWAP...
2025-09-14 19:00:35,171 - TradingBotLogger - INFO - Using OKX timeframe format: 6h -> 6H
2025-09-14 19:00:35,171 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (150 points) for BTC-USD-SWAP at 6H...
2025-09-14 19:00:35,621 - TradingBotLogger - INFO - Fetched 150 K-line data.
2025-09-14 19:00:35,621 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:36,049 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 6H...
2025-09-14 19:00:36,471 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:36,896 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:36,896 - TradingBotLogger - INFO - Calculating all indicators for category: medium_term
2025-09-14 19:00:36,896 - TradingBotLogger - INFO - Calculated RSI with period: 14
2025-09-14 19:00:36,901 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:36,904 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=20, std_dev=2.0
2025-09-14 19:00:36,905 - TradingBotLogger - INFO - Calculated ATR with period: 14
2025-09-14 19:00:36,906 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:36,907 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:36,909 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:36,910 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:36,912 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:36,912 - TradingBotLogger - INFO - Successfully calculated all indicators for medium_term
2025-09-14 19:00:36,914 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:36,919 - TradingBotLogger - INFO - Saved 6h data to kline_data\6h\6h.csv
2025-09-14 19:00:36,919 - TradingBotLogger - INFO - Successfully processed 6h: 100 records
2025-09-14 19:00:36,919 - TradingBotLogger - INFO - Processing 12h data for BTC-USD-SWAP...
2025-09-14 19:00:36,919 - TradingBotLogger - INFO - Using OKX timeframe format: 12h -> 12H
2025-09-14 19:00:36,919 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (150 points) for BTC-USD-SWAP at 12H...
2025-09-14 19:00:37,375 - TradingBotLogger - INFO - Fetched 150 K-line data.
2025-09-14 19:00:37,375 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:37,801 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 12H...
2025-09-14 19:00:38,224 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:38,652 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:38,652 - TradingBotLogger - INFO - Calculating all indicators for category: long_term
2025-09-14 19:00:38,655 - TradingBotLogger - INFO - Calculated RSI with period: 21
2025-09-14 19:00:38,655 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:38,655 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=30, std_dev=2.0
2025-09-14 19:00:38,660 - TradingBotLogger - INFO - Calculated ATR with period: 21
2025-09-14 19:00:38,661 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:38,661 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:38,663 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:38,665 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:38,666 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:38,667 - TradingBotLogger - INFO - Successfully calculated all indicators for long_term
2025-09-14 19:00:38,669 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:38,673 - TradingBotLogger - INFO - Saved 12h data to kline_data\12h\12h.csv
2025-09-14 19:00:38,673 - TradingBotLogger - INFO - Successfully processed 12h: 80 records
2025-09-14 19:00:38,673 - TradingBotLogger - INFO - Processing 1d data for BTC-USD-SWAP...
2025-09-14 19:00:38,673 - TradingBotLogger - INFO - Using OKX timeframe format: 1d -> 1D
2025-09-14 19:00:38,673 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (120 points) for BTC-USD-SWAP at 1D...
2025-09-14 19:00:39,110 - TradingBotLogger - INFO - Fetched 120 K-line data.
2025-09-14 19:00:39,110 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:39,543 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 1D...
2025-09-14 19:00:39,966 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:40,407 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:40,409 - TradingBotLogger - INFO - Calculating all indicators for category: long_term
2025-09-14 19:00:40,409 - TradingBotLogger - INFO - Calculated RSI with period: 21
2025-09-14 19:00:40,409 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:40,414 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=30, std_dev=2.0
2025-09-14 19:00:40,416 - TradingBotLogger - INFO - Calculated ATR with period: 21
2025-09-14 19:00:40,418 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:40,418 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:40,419 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:40,421 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:40,423 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:40,423 - TradingBotLogger - INFO - Successfully calculated all indicators for long_term
2025-09-14 19:00:40,425 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:40,429 - TradingBotLogger - INFO - Saved 1d data to kline_data\1d\1d.csv
2025-09-14 19:00:40,429 - TradingBotLogger - INFO - Successfully processed 1d: 70 records
2025-09-14 19:00:40,431 - TradingBotLogger - INFO - Processing 3d data for BTC-USD-SWAP...
2025-09-14 19:00:40,431 - TradingBotLogger - INFO - Using OKX timeframe format: 3d -> 3D
2025-09-14 19:00:40,431 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (100 points) for BTC-USD-SWAP at 3D...
2025-09-14 19:00:40,876 - TradingBotLogger - INFO - Fetched 100 K-line data.
2025-09-14 19:00:40,881 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:41,317 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 3D...
2025-09-14 19:00:41,750 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:42,175 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:42,175 - TradingBotLogger - INFO - Calculating all indicators for category: long_term
2025-09-14 19:00:42,175 - TradingBotLogger - INFO - Calculated RSI with period: 21
2025-09-14 19:00:42,175 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:42,181 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=30, std_dev=2.0
2025-09-14 19:00:42,182 - TradingBotLogger - INFO - Calculated ATR with period: 21
2025-09-14 19:00:42,183 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:42,184 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:42,185 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:42,188 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:42,188 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:42,188 - TradingBotLogger - INFO - Successfully calculated all indicators for long_term
2025-09-14 19:00:42,191 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:42,195 - TradingBotLogger - INFO - Saved 3d data to kline_data\3d\3d.csv
2025-09-14 19:00:42,196 - TradingBotLogger - INFO - Successfully processed 3d: 60 records
2025-09-14 19:00:42,196 - TradingBotLogger - INFO - Processing 1w data for BTC-USD-SWAP...
2025-09-14 19:00:42,196 - TradingBotLogger - INFO - Using OKX timeframe format: 1w -> 1W
2025-09-14 19:00:42,196 - TradingBotLogger - INFO - Fetching K-line data from /api/v5/market/candles (80 points) for BTC-USD-SWAP at 1W...
2025-09-14 19:00:42,636 - TradingBotLogger - INFO - Fetched 80 K-line data.
2025-09-14 19:00:42,636 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:43,073 - TradingBotLogger - INFO - Fetching current k-line for BTC-USD-SWAP at 1W...
2025-09-14 19:00:43,507 - TradingBotLogger - INFO - Fetching funding rate for BTC-USD-SWAP...
2025-09-14 19:00:43,928 - TradingBotLogger - INFO - Successfully fetched current k-line.
2025-09-14 19:00:43,928 - TradingBotLogger - INFO - Calculating all indicators for category: long_term
2025-09-14 19:00:43,928 - TradingBotLogger - INFO - Calculated RSI with period: 21
2025-09-14 19:00:43,928 - TradingBotLogger - INFO - Calculated MACD with fast=12, slow=26, signal=9
2025-09-14 19:00:43,934 - TradingBotLogger - INFO - Calculated Bollinger Bands with period=30, std_dev=2.0
2025-09-14 19:00:43,935 - TradingBotLogger - INFO - Calculated ATR with period: 21
2025-09-14 19:00:43,936 - TradingBotLogger - INFO - Calculated Stochastic with K=14, D=3, smooth=3
2025-09-14 19:00:43,937 - TradingBotLogger - INFO - Calculated Williams %R with period: 14
2025-09-14 19:00:43,938 - TradingBotLogger - INFO - Calculated CCI with period: 20
2025-09-14 19:00:43,941 - TradingBotLogger - INFO - Calculated volume indicators
2025-09-14 19:00:43,941 - TradingBotLogger - INFO - Calculated momentum indicators
2025-09-14 19:00:43,942 - TradingBotLogger - INFO - Successfully calculated all indicators for long_term
2025-09-14 19:00:43,943 - TradingBotLogger - INFO - Added signal analysis
2025-09-14 19:00:43,946 - TradingBotLogger - INFO - Saved 1w data to kline_data\1w\1w.csv
2025-09-14 19:00:43,946 - TradingBotLogger - INFO - Successfully processed 1w: 50 records
2025-09-14 19:00:43,946 - TradingBotLogger - INFO - Updated MCP manifest with 12 files
2025-09-14 19:00:43,952 - TradingBotLogger - INFO - Run summary saved to: system_logs\latest_run_summary.json
2025-09-14 19:00:43,953 - TradingBotLogger - INFO - Triggering AI analysis after data update
2025-09-14 19:00:47,146 - TradingBotLogger - INFO - AI analysis completed successfully
2025-09-14 19:00:47,146 - TradingBotLogger - INFO - AI Analysis Result (after 1 iterations):
2025-09-14 19:00:47,146 - TradingBotLogger - INFO - Analysis: 📋 分析计划：
目标：分析BTC-USD-SWAP的1小时级别技术指标
需要数据：1h K线数据、技术指标、市场情绪
工具调用：get_kline_data, get_market_ticker
分析重点：RSI超买超卖、MACD信号、布林带位置
预期输出：技术信号评估 + 风险等级 + 操作建议
2025-09-14 19:00:47,146 - TradingBotLogger - INFO - Data fetch completed successfully
2025-09-14 19:00:47,149 - TradingBotLogger - INFO - Starting scheduler...
2025-09-14 19:00:47,217 - TradingBotLogger - INFO - Starting MCP service on port 5000...
